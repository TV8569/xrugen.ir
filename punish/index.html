<!DOCTYPE html>
<html lang="fa" dir="rtl"> <!-- تغییر به dir="rtl" برای کل صفحه -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>X-Rugen - Punishments</title>
  <link rel="icon" href="https://s5.uupload.ir/files/amirabbas8585/Xrugen/logo.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/minecraft-4" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* Global Variables */
    :root {
      --primary: #1e88e5; 
      --primary-dark: #1565c0;
      --primary-light: #42a5f5;
      --accent: #ffb62f; 
      --accent-dark: #e69a00;
      --secondary: #00a8de; 
      --secondary-dark: #0089b5;
      --bg-dark: #121820; /* Changed for consistency with home.html */
      --bg-darker: #1a1f26; /* Changed for consistency with home.html */
      --bg-light: #22252b; /* Changed for consistency with home.html */
      --text-light: #e8e8e8;
      --text-lighter: #ffffff;
      --dirt-brown: #866043;
      --stone-gray: #7b7b7b;
      --obsidian: #150d1a;
      --warn-color: #ffcc00;
      --mute-color: #55aaff;
      --ban-color: #ff6666;
      --permaban-color: #ff0000;
    }

    /* Base Styles */
    html {
      direction: rtl; /* Set base direction to RTL */
      scroll-behavior: smooth;
      box-sizing: border-box;
      font-size: 16px;
    }

    *, *::before, *::after {
      box-sizing: inherit;
    }

    body {
      margin: 0;
      font-family: 'Vazirmatn', sans-serif;
      background: var(--bg-dark) url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/noise.png');
      color: var(--text-light);
      overflow-x: hidden;
      direction: rtl; /* Ensure content is RTL */
      text-align: right;
      line-height: 1.6;
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
      image-rendering: pixelated;
    }

    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 10px;
      background: var(--bg-darker);
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 4px;
      box-shadow: inset 0 0 4px rgba(0,0,0,0.3);
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary-light);
      box-shadow: 0 0 4px var(--primary-light);
    }
    
    ::-webkit-scrollbar-thumb:horizontal {
      background: var(--primary);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar:horizontal {
      height: 10px;
    }

    .page-container {
      min-height: 100%;
      display: flex;
      flex-direction: column;
      position: relative;
      /* Background image on container is redundant if body has it, remove or adjust */
      /* background-image: 
        url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/noise.png'),
        linear-gradient(to bottom, rgba(25, 30, 40, 0.92), rgba(20, 24, 32, 0.96)); */
    }

    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
      opacity: 0.8; /* Adjusted for better visibility of content */
    }
    
    .particle {
      position: absolute;
      background-size: cover;
      border-radius: 0; 
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
      animation: float 20s infinite linear;
      image-rendering: pixelated; 
    }

    .particle.dirt { background-color: var(--dirt-brown); border: 1px solid rgba(0,0,0,0.2); }
    .particle.stone { background-color: var(--stone-gray); border: 1px solid rgba(0,0,0,0.2); }
    .particle.emerald { background-color: var(--primary); border: 1px solid rgba(0,0,0,0.2); box-shadow: 0 0 8px var(--primary); }
    .particle.gold { background-color: var(--accent); border: 1px solid rgba(0,0,0,0.2); box-shadow: 0 0 8px var(--accent); }
    .particle.redstone { background-color: var(--ban-color); border: 1px solid rgba(0,0,0,0.2); box-shadow: 0 0 8px var(--ban-color); }

    @keyframes float {
      0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-100vh) translateX(50px) rotate(360deg); opacity: 0; }
    }

    .minecraft-clouds {
      position: fixed;
      top: 100px;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      opacity: 0.08; /* Adjusted for better visibility of content */
    }
    
    .minecraft-cloud {
      position: absolute;
      background: white;
      border-radius: 10px; /* Changed from 0 to 10px for cloud shape */
      opacity: 0.7;
      animation: cloud-movement linear infinite;
      image-rendering: pixelated;
    }

    @keyframes cloud-movement {
      0% { transform: translateX(-5%); }
      100% { transform: translateX(105%); }
    }

    .content-wrap {
      flex: 1;
      position: relative;
      z-index: 1;
      padding-top: 88px; /* Space for fixed topbar */
    }

    /* Topbar (Header) - Default (Desktop) Styles */
    .topbar {
      background: linear-gradient(90deg, rgba(20, 24, 32, 0.9), rgba(30, 36, 48, 0.9));
      padding: 15px 20px;
      display: flex;
      justify-content: space-between; /* Logo on right, nav and toggle on left */
      align-items: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      flex-shrink: 0;
      position: fixed; /* Changed to fixed for consistency with home.html */
      top: 0;
      width: 100%;
      z-index: 100;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 2px solid var(--primary);
    }

    .topbar::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      opacity: 0.6;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      transition: all 0.3s ease;
    }
    
    .logo:hover {
      transform: scale(1.05);
    }

    .logo img {
      width: 58px;
      height: 58px;
      border-radius: 6px;
      box-shadow: 0 0 15px rgba(30, 136, 229, 0.5);
      transition: all 0.3s ease;
      border: 2px solid rgba(30, 136, 229, 0.3);
      image-rendering: pixelated;
    }
    
    .logo:hover img {
      box-shadow: 0 0 20px rgba(30, 136, 229, 0.8);
      transform: rotate(5deg);
    }

    .logo .name {
      font-size: 2.2em;
      font-weight: 900;
      font-family: 'Minecraft', sans-serif;
      text-shadow: 2px 2px 0 #000, -2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000;
      transition: all 0.3s ease;
      letter-spacing: 1px;
      color: var(--primary); /* Keep consistent with home.html */
    }

    .logo .part1 {
      color: var(--primary);
      position: relative;
    }
    
    .logo .part1::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 4px;
      bottom: -4px;
      left: 0;
      background: var(--primary);
      transform: scaleX(0);
      transform-origin: bottom right;
      transition: transform 0.3s ease-out;
      box-shadow: 0 0 8px var(--primary);
    }
    
    .logo:hover .part1::after {
      transform: scaleX(1);
      transform-origin: bottom left;
    }

    .logo .part2 {
      color: var(--text-light);
    }

    .nav {
      display: flex;
      gap: 30px;
      flex-direction: row-reverse; /* For RTL display from right to left */
      flex-grow: 1; /* Allows nav to take available space */
      justify-content: center; /* Centers its content within that space */
    }

    .nav a {
      color: var(--text-light);
      text-decoration: none;
      font-size: 1.4em;
      font-weight: bold;
      transition: all 0.3s ease;
      text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
      position: relative;
      padding: 8px 15px;
      background: rgba(0,0,0,0.2);
      border: 2px solid transparent;
      border-radius: 20px; /* Increased border-radius for rounded corners */
      white-space: nowrap;
    }
    
    .nav a::after {
      content: '';
      position: absolute;
      width: 90%;
      height: 3px;
      bottom: -3px;
      left: 5%;
      background: var(--accent);
      transform: scaleX(0);
      transform-origin: bottom right;
      transition: transform 0.3s ease-out;
      box-shadow: 0 0 8px var(--accent);
    }
    
    .nav a:hover::after {
      transform: scaleX(1);
      transform-origin: bottom left;
    }

    .nav a:hover {
      color: var(--text-lighter);
      text-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary);
      transform: translateY(-3px);
      border-color: var(--primary-dark);
      background: rgba(30, 136, 229, 0.1);
    }
    
    /* Active link style */
    .nav a.active {
      color: var(--accent); /* Highlight with accent color */
      border-color: var(--accent); /* Change border color */
      text-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent);
    }

    .nav a.active::after {
        transform: scaleX(1); /* Ensure the underline is visible */
        transform-origin: bottom left;
        background: var(--accent);
    }

    /* Hamburger menu for mobile */
    .menu-toggle {
        display: none; /* Hidden by default on larger screens */
        background: none;
        border: none;
        color: var(--text-light);
        font-size: 1.8em;
        cursor: pointer;
        padding: 10px;
        z-index: 101; /* Above other content */
        order: -1; /* Places toggle to the left of the logo for desktop (but it's hidden) */
    }
    
    .punishment-header {
      position: relative;
      min-height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      padding: 40px 20px;
      margin-bottom: 20px;
      overflow: hidden;
      background-color: rgba(0,0,0,0.4);
      margin-top: 0; /* No extra margin since content-wrap has padding-top */
    }
    
    .punishment-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/dirt_texture.png');
      background-size: 64px 64px;
      image-rendering: pixelated;
      opacity: 0.2;
      z-index: -1;
    }
    
    .punishment-header::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at center, rgba(30, 136, 229, 0.2) 0%, transparent 70%);
      z-index: -1;
      animation: pulse 5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% {
        opacity: 0.5;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.05);
      }
    }
    
    .punishment-header h2 {
      font-size: 3.2em;
      margin: 0 0 20px;
      color: var(--text-lighter);
      font-weight: 900;
      letter-spacing: 2px;
      position: relative;
      z-index: 1;
      font-family: 'Minecraft', sans-serif;
      text-shadow: 3px 3px 0 #000, -3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000;
    }
    
    .punishment-header p {
      font-size: 1.3em;
      margin: 5px 0 0;
      max-width: 700px;
      color: var(--text-light);
      text-shadow: 2px 2px 3px rgba(0,0,0,0.8);
      position: relative;
      z-index: 1;
    }

    .search-box {
      text-align: center;
      margin: 30px auto; /* Adjusted margin */
      max-width: 600px;
      position: relative;
      z-index: 2;
      padding: 0 20px; /* Added padding for mobile */
    }

    .search-box input {
      width: 100%;
      padding: 15px 25px 15px 55px;
      font-size: 1.2em;
      border-radius: 6px;
      border: 3px solid #5a3600;
      background: rgba(20, 20, 20, 0.7);
      color: #fff;
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.1), 0 5px 0 0 #5a3600, 0 8px 10px rgba(0,0,0,0.4);
      transition: all 0.3s ease;
      font-family: 'Vazirmatn', sans-serif;
      image-rendering: pixelated;
    }
    
    .search-box input:focus {
      outline: none;
      background: rgba(20, 20, 20, 0.8);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.15), 0 3px 0 0 #5a3600, 0 4px 6px rgba(0,0,0,0.4);
      transform: translateY(2px);
    }
    
    .search-box::before {
      content: '\f002';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--accent);
      font-size: 1.2em;
      z-index: 2;
      pointer-events: none;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
    }

    .minecraft-btn {
      background: linear-gradient(to bottom, var(--accent) 0%, var(--accent-dark) 100%);
      color: #ffffff;
      border: 3px solid #5a3600;
      padding: 14px 32px;
      font-size: 1.3em;
      font-weight: bold;
      font-family: 'Minecraft', sans-serif;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.2), 0 8px 0 0 #5a3600, 0 10px 10px rgba(0,0,0,0.5);
      border-radius: 4px;
    }
    
    .minecraft-btn:hover {
      transform: translateY(-2px);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.2), 0 10px 0 0 #5a3600, 0 12px 12px rgba(0,0,0,0.5);
    }
    
    .minecraft-btn:active {
      transform: translateY(4px);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.2), 0 4px 0 0 #5a3600, 0 6px 6px rgba(0,0,0,0.5);
    }

    .table-container {
      overflow-x: auto;
      margin: 0 auto 60px;
      max-width: 1400px;
      padding: 0 20px;
      position: relative;
      scrollbar-width: thin;
      scrollbar-color: var(--primary) var(--bg-dark);
      border-radius: 8px;
    }
    
    /* Scroll shadows for table */
    .table-container::before {
      content: '';
      position: absolute;
      right: 0;
      top: 0;
      bottom: 0;
      width: 40px;
      background: linear-gradient(to left, var(--bg-dark), transparent);
      z-index: 3;
      pointer-events: none;
      opacity: 0.8;
      display: none; /* Controlled by JS based on overflow */
    }
    
    .table-container::after {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 40px;
      background: linear-gradient(to right, var(--bg-dark), transparent);
      z-index: 3;
      pointer-events: none;
      opacity: 0.8;
      display: none; /* Controlled by JS based on overflow */
    }
    
    .table-container.has-overflow::before,
    .table-container.has-overflow::after {
      display: block;
    }

    table {
      width: 100%;
      min-width: 800px; /* Ensure table is wide enough to trigger scroll on smaller screens */
      border-collapse: collapse;
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/planks_texture.png');
      background-size: 64px 64px;
      image-rendering: pixelated;
      border-radius: 8px;
      overflow: hidden; /* Important for table border-radius */
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4), 0 0 0 4px #3e2912;
    }
    
    table::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: -1;
    }

    th, td {
      padding: 16px 20px;
      text-align: center;
      border: 1px solid rgba(0, 0, 0, 0.3);
      position: relative;
    }
    
    th {
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/stone_texture.png');
      background-size: 32px 32px;
      color: #fff;
      font-weight: bold;
      font-size: 1.1em;
      text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.8);
      position: sticky;
      top: 88px; /* Stick below the fixed topbar */
      z-index: 2;
      font-family: 'Minecraft', sans-serif;
      letter-spacing: 1px;
    }
    
    th::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: -1;
    }
    
    th:first-child {
      position: sticky;
      right: 0;
      z-index: 3;
      box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
    }

    tr:nth-child(even) {
      background: rgba(0, 0, 0, 0.2);
    }

    tr:hover {
      background: rgba(30, 136, 229, 0.08);
    }
    
    td:first-child {
      font-weight: bold;
      color: var(--text-lighter);
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/obsidian_texture.png');
      background-size: 32px 32px;
      position: sticky;
      right: 0;
      z-index: 1;
      box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
      text-shadow: 1px 1px 0 rgba(0,0,0,0.8);
    }
    
    td:first-child::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: -1;
    }

    .ban { color: var(--ban-color); font-weight: bold; text-shadow: 1px 1px 0 rgba(0,0,0,0.8); }
    .permaban { color: var(--permaban-color); font-weight: bold; text-shadow: 1px 1px 0 rgba(0,0,0,0.8); }
    .mute { color: var(--mute-color); font-weight: bold; text-shadow: 1px 1px 0 rgba(0,0,0,0.8); }
    .warn { color: var(--warn-color); font-weight: bold; text-shadow: 1px 1px 0 rgba(0,0,0,0.8); }
    
    .quick-guide {
      max-width: 800px;
      margin: 40px auto;
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/dark_oak_planks.png');
      background-size: 64px 64px;
      image-rendering: pixelated;
      border-radius: 8px;
      padding: 25px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 0 4px #3e2912;
      position: relative;
      border: 1px solid rgba(30, 136, 229, 0.2);
      z-index: 1; /* Ensure it's above particles */
    }
    
    .quick-guide::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: 0;
      border-radius: 8px;
    }
    
    .guide-title {
      font-size: 1.6em;
      color: var(--accent);
      margin-bottom: 15px;
      text-align: center;
      font-weight: bold;
      font-family: 'Minecraft', sans-serif;
      position: relative;
      z-index: 1;
      text-shadow: 2px 2px 0 rgba(0,0,0,0.8);
    }
    
    .guide-items {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      position: relative;
      z-index: 1;
    }
    
    .guide-item {
      display: flex;
      align-items: center;
      padding: 10px 15px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
      min-width: 150px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      border: 2px solid rgba(60, 60, 60, 0.5);
    }
    
    .guide-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 10px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
      font-size: 1.3em;
    }
    
    .guide-warn { background: rgba(255, 204, 0, 0.2); color: var(--warn-color); border: 2px solid rgba(255, 204, 0, 0.3); }
    .guide-mute { background: rgba(85, 170, 255, 0.2); color: var(--mute-color); border: 2px solid rgba(85, 170, 255, 0.3); }
    .guide-ban { background: rgba(255, 102, 102, 0.2); color: var(--ban-color); border: 2px solid rgba(255, 102, 102, 0.3); }
    .guide-permaban { background: rgba(255, 0, 0, 0.2); color: var(--permaban-color); border: 2px solid rgba(255, 0, 0, 0.3); }
    
    .faq-section {
      max-width: 800px;
      margin: 60px auto;
      padding: 0 20px;
      z-index: 1; /* Ensure it's above particles */
    }
    
    .faq-title {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 40px;
      color: var(--text-lighter);
      position: relative;
      display: inline-block;
      width: 100%;
      font-family: 'Minecraft', sans-serif;
      text-shadow: 3px 3px 0 #000, -3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000;
    }
    
    .faq-title::after {
      content: '';
      position: absolute;
      width: 100px;
      height: 5px;
      background: var(--primary);
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 2px;
      box-shadow: 0 0 10px var(--primary);
    }

    .faq-item {
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/stone_texture.png');
      background-size: 32px 32px;
      image-rendering: pixelated;
      border-radius: 8px;
      margin: 20px 0;
      padding: 0;
      cursor: pointer;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3), 0 0 0 3px #3e3e3e;
      transition: all 0.3s ease;
      border: 1px solid rgba(0, 0, 0, 0.3);
      position: relative;
    }
    
    .faq-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: 0;
    }

    .faq-item:hover {
      box-shadow: 0 8px 25px rgba(0,0,0,0.4), 0 0 0 3px #4a4a4a;
      transform: translateY(-2px);
    }

    .faq-question {
      display: flex;
      align-items: center;
      padding: 20px;
      font-size: 1.2em;
      font-weight: bold;
      color: var(--text-lighter);
      position: relative;
      z-index: 1;
      transition: all 0.3s ease;
      text-shadow: 2px 2px 0 rgba(0,0,0,0.8);
    }
    
    .faq-item:hover .faq-question {
      color: var(--accent);
    }
    
    .faq-item.active .faq-question {
      color: var(--accent);
      text-shadow: 0 0 10px rgba(255, 182, 47, 0.5);
    }

    .faq-answer {
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: all 0.4s ease;
      color: var(--text-light);
      padding: 0 20px;
      line-height: 1.6;
      font-size: 1.1em;
      position: relative;
      z-index: 1;
      background: rgba(0, 0, 0, 0.5);
      margin: 0 10px 10px;
      border-radius: 6px;
    }

    .faq-item.active .faq-answer {
      max-height: 300px; /* Adjust as needed */
      opacity: 1;
      padding: 20px;
    }

    .arrow {
      margin-left: 10px;
      margin-right: 10px; /* Adjusted for RTL */
      display: inline-block;
      transition: transform 0.4s ease;
      color: var(--primary);
      font-size: 1.2em;
    }

    .faq-item.active .arrow {
      transform: rotate(180deg);
      color: var(--accent);
    }

    /* Footer Section */
    footer.site-footer {
      background: url('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/img/obsidian_texture.png');
      background-size: 80px 80px;
      image-rendering: pixelated;
      color: var(--text-light);
      text-align: center;
      padding: 50px 20px 55px; /* Adjusted padding */
      font-size: 1em; /* Adjusted font-size */
      border-top: 4px solid var(--primary-dark);
      box-shadow: 0 -12px 30px rgba(0, 0, 0, 0.8); /* Adjusted shadow */
      margin-top: 100px;
      position: relative;
      z-index: 2;
      user-select: none;
      flex-shrink: 0; /* Prevent footer from shrinking */
    }
    
    footer.site-footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: -1;
    }
    
    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 1;
      direction: rtl;
    }
    
    .footer-logo {
      display: flex;
      align-items: center;
      margin-bottom: 20px; /* Adjusted margin */
      justify-content: flex-start;
      flex-grow: 1;
      min-width: 200px;
    }
    
    .footer-logo img {
      width: 50px;
      height: 50px;
      margin-left: 15px;
      border-radius: 8px; /* Adjusted border-radius */
      border: 3px solid var(--primary-dark); /* Adjusted border */
      box-shadow: 0 0 12px var(--primary); /* Adjusted shadow */
    }
    
    .footer-logo .name {
      font-size: 1.8em; /* Adjusted font-size */
      font-weight: bold;
      font-family: 'Minecraft', sans-serif;
      text-shadow: 2px 2px 0 rgba(0,0,0,0.8);
    }
    
    .footer-nav {
      display: flex;
      gap: 20px; /* Adjusted gap */
      margin-bottom: 20px; /* Adjusted margin */
      justify-content: center;
      flex-grow: 1;
      min-width: 300px;
    }
    
    .footer-nav a {
      color: var(--text-light);
      text-decoration: none;
      transition: all 0.3s;
      font-weight: bold;
      font-family: 'Vazirmatn', sans-serif; /* Added font-family */
      text-shadow: 1px 1px 0 rgba(0,0,0,0.8);
      position: relative;
      padding: 6px 0;
      font-size: 1.05em; /* Adjusted font-size */
    }
    
    .footer-nav a::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        background: var(--accent);
        bottom: 0;
        right: 0;
        transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .footer-nav a:hover::after {
        width: 100%;
        left: 0;
    }

    .footer-nav a:hover {
      color: var(--accent);
      text-shadow: 0 0 10px var(--accent-dark); /* Adjusted shadow */
    }
    
    .social-links {
      display: flex;
      gap: 15px; /* Adjusted gap */
      justify-content: flex-end;
      margin-bottom: 20px; /* Adjusted margin */
      flex-grow: 1;
      min-width: 200px;
    }
    
    .social-link {
      width: 45px; /* Adjusted size */
      height: 45px; /* Adjusted size */
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.7); /* Adjusted opacity */
      border: 3px solid var(--primary-dark); /* Adjusted border */
      border-radius: 10px; /* Adjusted border-radius */
      color: var(--text-light);
      font-size: 1.5em; /* Adjusted font-size */
      transition: all 0.3s;
      text-decoration: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.6); /* Adjusted shadow */
    }
    
    .social-link:hover {
      background: var(--primary);
      color: var(--text-lighter); /* Adjusted color */
      transform: translateY(-6px) rotate(8deg); /* Adjusted transform */
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.6), 0 0 20px var(--primary-light); /* Adjusted shadow */
      border-color: var(--accent);
    }

    footer.site-footer span {
      color: var(--accent);
      font-weight: bold;
    }

    footer.site-footer a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 900;
      transition: 0.3s;
    }

    footer.site-footer a:hover {
      color: var(--text-lighter);
      text-shadow: 0 0 10px var(--primary);
    }
    
    /* Animations */
    .fade-in { animation: fadeIn 1s ease forwards; }
    .slide-up { animation: slideUp 1s ease forwards; }
    .pop-in { animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes popIn {
      0% { opacity: 0; transform: scale(0.8); }
      80% { transform: scale(1.1); }
      100% { opacity: 1; transform: scale(1); }
    }

    mark.highlight {
      background-color: rgba(30, 136, 229, 0.3);
      color: #ffffff;
      padding: 2px 1px;
      border-radius: 3px;
      font-weight: bold;
      text-shadow: 1px 1px 0 rgba(0,0,0,0.5);
    }

    /* Back to Top Button Styles */
    .back-to-top {
        position: fixed;
        bottom: 30px;
        left: 30px; /* For RTL, bottom-left */
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
        color: var(--text-lighter);
        border-radius: 50%;
        box-shadow: 0 5px 20px rgba(0,0,0,0.6), 0 0 25px var(--primary-light);
        font-size: 1.8em;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out, background 0.3s ease;
        opacity: 0;
        pointer-events: none;
        z-index: 999;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
        border: 3px solid var(--primary-light);
        cursor: pointer;
    }

    .back-to-top:hover {
        transform: translateY(-8px) scale(1.1);
        background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%);
        box-shadow: 0 8px 30px rgba(0,0,0,0.8), 0 0 35px var(--primary-light);
    }

    .back-to-top.show {
        opacity: 1;
        pointer-events: auto;
        animation: fadeInPop 0.5s ease-out forwards;
    }

    .back-to-top i {
        margin: 0;
        line-height: 1;
    }

    @keyframes fadeInPop {
        from { opacity: 0; transform: scale(0.5); }
        to { opacity: 1; transform: scale(1); }
    }

    /* Responsive Adjustments */
    @media (max-width: 1024px) {
      html { font-size: 15px; }

      .topbar {
        flex-direction: row; /* Keep elements in a row */
        justify-content: space-between; /* Logo on right, hamburger on left */
        padding: 15px 20px;
      }
      .logo { order: 2; } /* Keep logo on the right (start) in RTL */
      .logo img { width: 50px; height: 50px; } /* Slightly smaller logo on mobile */
      .logo .name { font-size: 2em; } /* Adjust font size */
      
      .nav {
          display: none; /* Hidden by default on mobile */
          flex-direction: column;
          width: 100%;
          background: linear-gradient(90deg, rgba(20, 24, 32, 0.95), rgba(30, 36, 48, 0.95));
          position: absolute;
          top: 88px; /* Below the topbar */
          left: 0;
          padding: 20px 0;
          box-shadow: 0 10px 20px rgba(0,0,0,0.5);
          border-bottom-left-radius: 10px;
          border-bottom-right-radius: 10px;
          align-items: center; /* Center links in mobile menu */
          flex-grow: 0; /* Reset flex-grow for mobile */
          justify-content: flex-start; /* Reset justify-content for mobile */
      }
      .nav.open {
          display: flex; /* Show nav when open */
      }
      .nav a {
          width: 90%; /* Make links take more width in mobile menu */
          text-align: center;
          padding: 12px 15px;
          font-size: 1.3em;
          margin-bottom: 10px; /* Spacing between mobile links */
          border-radius: 15px; /* Ensure rounded corners on mobile menu items */
      }

      .menu-toggle {
          display: block; /* Show hamburger on smaller screens */
          order: 1; /* Place it to the left of the logo in RTL */
          margin-inline-end: 20px; /* Space from right edge */
      }

      .punishment-header h2 { font-size: 2.8em; }
      .punishment-header p { font-size: 1.1em; }

      .search-box { padding: 0 15px; }
      .search-box input { font-size: 1.1em; padding: 12px 20px 12px 45px; }
      .search-box::before { font-size: 1.1em; left: 15px; }

      .table-container { padding: 0 15px; }
      th, td { padding: 12px 15px; font-size: 0.95em; }
      th:first-child, td:first-child { min-width: 100px; } /* Ensure sticky column has minimum width */
      th { top: 78px; } /* Adjust sticky header position for smaller topbar */

      .quick-guide { padding: 20px; margin: 30px auto; }
      .guide-title { font-size: 1.4em; }
      .guide-items { gap: 15px; }
      .guide-item { min-width: 130px; padding: 8px 12px; font-size: 0.9em;}
      .guide-icon { width: 35px; height: 35px; font-size: 1.1em; margin-left: 8px; }

      .faq-title { font-size: 2.2em; margin-bottom: 30px; }
      .faq-item { margin: 15px 0; }
      .faq-question { padding: 15px; font-size: 1.1em; }
      .faq-answer { padding: 15px; font-size: 1em; }

      .footer-content { flex-direction: column; gap: 15px; }
      .footer-logo, .footer-nav, .social-links { justify-content: center; width: 100%; margin-bottom: 0; }
      .footer-logo img { margin-left: 0; margin-right: 10px; }

      .back-to-top {
          width: 50px;
          height: 50px;
          font-size: 1.5em;
          bottom: 20px;
          left: 20px;
      }
    }

    @media (max-width: 768px) {
      html { font-size: 14px; }

      .topbar {
          flex-direction: column; /* Stack logo and nav vertically */
          gap: 10px;
          padding: 10px 15px;
      }
      .logo { margin-bottom: 5px; } /* Add small margin below logo when stacked */
      .logo img { width: 45px; height: 45px; } /* Even smaller logo */
      .logo .name { font-size: 1.8em; }

      th { top: 65px; } /* Adjust sticky header for even smaller topbar */

      .punishment-header h2 { font-size: 2.4em; }
      .punishment-header p { font-size: 1em; }
      .search-box input { font-size: 1em; padding: 10px 15px 10px 40px; }
      .search-box::before { font-size: 1em; left: 10px; }

      th, td { padding: 10px; font-size: 0.9em; }

      .quick-guide { padding: 15px; }
      .guide-title { font-size: 1.2em; }
      .guide-items { flex-direction: column; align-items: center; gap: 10px; }
      .guide-item { width: 90%; min-width: unset; }

      .faq-title { font-size: 2em; margin-bottom: 25px; }
      .faq-question { padding: 12px; font-size: 1em; }
      .faq-answer { padding: 12px; font-size: 0.9em; }

      .footer-logo img { margin-right: 5px; } /* Adjust spacing for logo in footer */
    }

    @media (max-width: 480px) {
        .topbar { padding: 8px 10px; }
        .logo img { width: 40px; height: 40px; }
        .logo .name { font-size: 1.6em; }
        .punishment-header h2 { font-size: 2em; }
        .punishment-header p { font-size: 0.9em; }
        .search-box { padding: 0 10px; }
        .search-box input { font-size: 0.9em; padding: 8px 12px 8px 35px; }
        .search-box::before { font-size: 0.9em; left: 8px; }
        th, td { padding: 8px; font-size: 0.8em; }
        .guide-title { font-size: 1.1em; }
        .faq-title { font-size: 1.8em; }
    }
  </style>
</head>
<body>
  <div class="page-container">
    <div class="minecraft-clouds" id="minecraft-clouds"></div>
    
    <div class="particles" id="particles"></div>
    
    <div class="content-wrap">
      <div class="topbar">
        <a href="https://www.xrugen.ir/" style="text-decoration: none;">
          <div class="logo">
            <img src="https://s5.uupload.ir/files/amirabbas8585/Xrugen/logo.png" alt="" />
            <div class="name">
              <span class="part1">X</span><span class="part2">-Rugen</span>
            </div>
          </div>
        </a>
        <!-- Hamburger menu button -->
        <button class="menu-toggle" aria-label="Toggle navigation">
            <i class="fas fa-bars"></i>
        </button>
        <div class="nav">
          <a href="#" class="active"><i class="fas fa-gavel"></i> پانیشمنت</a>
          <a href="https://www.xrugen.ir/shop/"><i class="fas fa-shopping-cart"></i> فروشگاه</a>
          <a href="https://www.xrugen.ir/rules/"><i class="fas fa-scroll"></i> قوانین</a>
        </div>
      </div>

      <div class="punishment-header">
        <h2 class="fade-in">لیست مجازات‌ها</h2>
        <p class="slide-up">قوانین سرور را بشناسید و از مجازات‌ها آگاه باشید</p>
      </div>

      <div class="search-box">
        <input type="text" id="searchInput" placeholder="جستجو در تخلفات یا مجازات‌ها..." class="slide-up" style="animation-delay: 0.3s;">
      </div>
      
      <div class="quick-guide slide-up" style="animation-delay: 0.4s;">
        <div class="guide-title"><i class="fas fa-info-circle"></i> راهنمای مجازات‌ها</div>
        <div class="guide-items">
          <div class="guide-item">
            <div class="guide-icon guide-warn"><i class="fas fa-exclamation-triangle"></i></div>
            <div>اخطار</div>
          </div>
          <div class="guide-item">
            <div class="guide-icon guide-mute"><i class="fas fa-comment-slash"></i></div>
            <div>میوت (سکوت)</div>
          </div>
          <div class="guide-item">
            <div class="guide-icon guide-ban"><i class="fas fa-ban"></i></div>
            <div>بن موقت</div>
          </div>
          <div class="guide-item">
            <div class="guide-icon guide-permaban"><i class="fas fa-skull-crossbones"></i></div>
            <div>بن دائم</div>
          </div>
        </div>
      </div>

      <div class="table-container" id="tableContainer">
        <table id="punishmentTable">
          <thead>
            <tr>
              <th>تخلف</th>
              <th>اخطار</th>
              <th>بار اول</th>
              <th>بار دوم</th>
              <th>بار سوم</th>
              <th>بار چهارم</th>
              <th>بار پنجم</th>
              <th>بار ششم</th>
              <th>بار هفتم</th>
              <th>بار هشتم</th>
            </tr>
          </thead>
          <tbody id="punishmentBody"></tbody>
        </table>
      </div>

      <section class="faq-section" id="faq">
        <h2 class="faq-title">پرسش‌های متداول</h2>
        
        <div class="faq-item slide-up" style="animation-delay: 0.5s;" onclick="toggleFAQ(this)">
          <div class="faq-question">
            <span class="arrow"><i class="fas fa-chevron-down"></i></span>
            <strong>اگر اشتباهاً مجازات شدم، چطور اعتراض کنم؟</strong>
          </div>
          <div class="faq-answer">
            می‌توانید از طریق سرور دیسکورد رسمی X-Rugen، درخواست بررسی ارسال کنید. در کانال #ticket-support یک تیکت باز کنید و توضیحات کامل را به همراه مدارک احتمالی ارائه دهید. تیم مدیریت سرور در اسرع وقت به درخواست شما رسیدگی خواهد کرد.
          </div>
        </div>
        
        <div class="faq-item slide-up" style="animation-delay: 0.6s;" onclick="toggleFAQ(this)">
          <div class="faq-question">
            <span class="arrow"><i class="fas fa-chevron-down"></i></span>
            <strong>چگونه می‌توانم با تیم استف ارتباط بگیرم؟</strong>
          </div>
          <div class="faq-answer">
            از طریق دیسکورد رسمی سرور X-Rugen می‌توانید با تیم مدیریت ارتباط بگیرید. پس از پیوستن به دیسکورد، در کانال #staff-contact یا با ایجاد تیکت در کانال #ticket-support می‌توانید پیام خود را برای تیم مدیریت ارسال کنید. همچنین می‌توانید در سرور ماینکرفت از دستور !ticket استفاده کنید.
          </div>
        </div>
        
        <div class="faq-item slide-up" style="animation-delay: 0.7s;" onclick="toggleFAQ(this)">
          <div class="faq-question">
            <span class="arrow"><i class="fas fa-chevron-down"></i></span>
            <strong>آیا بعد از مجازات، سابقه تخلفات من باقی می‌ماند؟</strong>
          </div>
          <div class="faq-answer">
            بله، سیستم سرور به صورت خودکار سابقه تخلفات شما را نگهداری می‌کند. بعد از گذشت 30 روز بدون تخلف، یک مرحله از سوابق تخلف شما کاهش می‌یابد. برای مثال، اگر قبلاً دو بار مرتکب تخلفی شده‌اید و 30 روز بدون تخلف بمانید، در صورت تکرار همان تخلف، مجازات بار دوم (به جای بار سوم) برای شما اعمال خواهد شد.
          </div>
        </div>
        
        <div class="faq-item slide-up" style="animation-delay: 0.8s;" onclick="toggleFAQ(this)">
          <div class="faq-question">
            <span class="arrow"><i class="fas fa-chevron-down"></i></span>
            <strong>آیا امکان بخشش یا کاهش مجازات وجود دارد؟</strong>
          </div>
          <div class="faq-answer">
            در شرایط خاص، تیم مدیریت می‌تواند مجازات را کاهش دهد یا ببخشد. برای درخواست بخشش، باید از طریق دیسکورد یک تیکت باز کنید و دلایل خود را به صورت کامل شرح دهید. توجه داشته باشید که این تصمیم نهایی به صلاحدید تیم مدیریت سرور بستگی دارد و برای همه تخلفات، امکان بخشش وجود ندارد.
          </div>
        </div>
      </section>
    </div>

    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="https://s5.uupload.ir/files/amirabbas8585/Xrugen/logo.png" alt="" />
          <div class="name">
            <span class="part1">X</span><span class="part2">-Rugen</span>
          </div>
        </div>
        
        <div class="footer-nav">
          <a href="https://www.xrugen.ir/shop/">فروشگاه</a>
          <a href="https://www.xrugen.ir/punish/">پانیشمنت </a>
          <a href="https://www.xrugen.ir/rules/">قوانین</a>
        </div>
        
        <div>
          تمامی حقوق این سایت متعلق به تیم<span> X-Rugen </span> می باشد
        </div>
        
        <div class="social-links">
          <a href="https://discord.gg/AJBF5CPmYx" class="social-link" target="_blank">
            <i class="fab fa-discord"></i>
          </a>
          <a href="#" class="social-link" target="_blank">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="https://t.me/X_Rugen" class="social-link" target="_blank">
            <i class="fab fa-telegram"></i>
          </a>
          <a href="#" class="social-link" target="_blank">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
      </div>
    </footer>
  </div>

  <!-- دکمه بازگشت به بالا -->
  <a href="#top" class="back-to-top" aria-label="بازگشت به بالا">
      <i class="fas fa-arrow-up"></i>
  </a>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Particle and Cloud Generation (same as before)
      const particles = document.getElementById('particles');
      const particleCount = 30;
      const blockTypes = ['dirt', 'stone', 'emerald', 'gold', 'redstone'];
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        const blockType = blockTypes[Math.floor(Math.random() * blockTypes.length)];
        particle.classList.add(blockType);
        
        const size = Math.random() * 20 + 8;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.top = `${Math.random() * 100}vh`;
        
        const duration = Math.random() * 25 + 15;
        const delay = Math.random() * 15;
        particle.style.animationDuration = `${duration}s`;
        particle.style.animationDelay = `${delay}s`;
        
        particles.appendChild(particle);
      }
      
      const clouds = document.getElementById('minecraft-clouds');
      const cloudCount = 8;
      
      for (let i = 0; i < cloudCount; i++) {
        const cloud = document.createElement('div');
        cloud.classList.add('minecraft-cloud');
        
        const width = Math.random() * 300 + 200;
        const height = Math.random() * 80 + 40;
        cloud.style.width = `${width}px`;
        cloud.style.height = `${height}px`;
        cloud.style.top = `${Math.random() * 500}px`;
        cloud.style.left = `-${Math.random() * 80}vw`;
        
        const duration = Math.random() * 120 + 80;
        cloud.style.animationDuration = `${duration}s`;
        cloud.style.animationDelay = `-${Math.random() * 80}s`;
        
        clouds.appendChild(cloud);
      }

      // Punishment Table Data and Filtering (same as before)
      const punishmentData = `چیت زدن	-	1D Ban	3D Ban	7D Ban	14D Ban	30D Ban	30D Ban	Permanent Ban	-
فحاشی	2 Warns	2h Mute	6h Mute	1D Mute + 6h Ban	7D Mute + 1D Ban	7D Ban	7D Ban	Permanent Ban	-
آزار و اذیت	1 Warns	2h Mute	6h Mute	1D Ban	3D Ban	7D Ban	7D Ban	Permanent Ban	-
گریف کردن	-	6h Ban	1D Ban	2D Ban	3D Ban	7D Ban	14D Ban	14D Ban + Account Delete	Permanent Ban
اکسپلویت یا سوء استفاده از باگ	-	6h Ban + Item Delete	1D Ban + Item Delete	7D Ban + Item Delete	14D Ban + Item Delete	30D Ban + Account Delete	Permanent Ban	-
مود های نا عادلانه	-	6h Ban	1D Ban	3D Ban	7D Ban	14D Ban	30D Ban	Permanent Ban	-
اسپم کردن	3 Warns	2h Mute	6h Mute	1D Mute + 2h Ban	2D Mute + 1D Ban	3D Mute + 1D Ban	3D Ban	7D Ban	Permanent Ban
ازار پلیر خاص	-	6h Ban	1D Ban	3D Ban	7D Ban	14D Ban	14D Ban	Permanent Ban	-
تبلیغلت	-	8h Mute	16h Mute	2D Mute	2D Ban	7D Ban	Permanent Ban	-	-
بیلد های نامناسب	-	1D Ban + Remove	Permanent Ban	-	-	-	-	-	-
اسم های نامناسب	-	Permanent Ban	-	-	-	-	-	-	-
اسکین های نامناسب	Warns	1D Ban	7D Ban	Permanent Ban	-	-	-	-	-
دادن اکانت به فرد دیگر	-	Permanent Ban	-	-	-	-	-	-	-
فروش ایتم با پول واقعی	-	Permanent Ban	-	-	-	-	-	-	-
فرار از مجازات	-	Ban Time x2	Ban Time x4	Ban Time x8	Permanent Ban	-	-	-	-
بی احترامی به تیم مدیریت	-	12h Mute	1D Mute	1D Ban	7D Ban	7D Ban + Account Delete	Permanent Ban	-	-
نفوذ به اکانت تیم مدیریت	-	Permanent Ban	-	-	-	-	-	-	-
کلاه برداری	-	12h Ban	1D Ban	3D Ban	7D Ban	14D Ban + Account Delete	30D Ban + Account Delete	Permanent Ban	-
طلف کردن وقت استف	-	8h Ban	16h Ban	2D Ban	5D Ban	15D Ban	Permanent Ban	-`;

    const rows = punishmentData.trim().split("\n");
    const tbody = document.getElementById("punishmentBody");

    rows.forEach((row, index) => {
      let cells = row.split("\t");
      while (cells.length < 10) cells.push("-");
      const tr = document.createElement("tr");
      
      tr.classList.add('fade-in');
      tr.style.animationDelay = `${0.1 + (index * 0.05)}s`;
      
      cells.forEach((cell, cellIndex) => {
        const td = document.createElement("td");
        let content = cell.trim();
        
        if (/Permanent Ban/i.test(content)) {
          td.className = "permaban";
          content = `<i class="fas fa-skull-crossbones"></i> ${content}`;
        }
        else if (/Ban/i.test(content)) {
          td.className = "ban";
          content = `<i class="fas fa-ban"></i> ${content}`;
        }
        else if (/Mute/i.test(content)) {
          td.className = "mute";
          content = `<i class="fas fa-comment-slash"></i> ${content}`;
        }
        else if (/Warn/i.test(content)) {
          td.className = "warn";
          content = `<i class="fas fa-exclamation-triangle"></i> ${content}`;
        }
        
        td.innerHTML = content;
        tr.appendChild(td);
      });
      
      tbody.appendChild(tr);
    });

    const input = document.getElementById("searchInput");
    input.addEventListener("keyup", function () {
      const filter = input.value.toLowerCase();
      const rows = document.querySelectorAll("#punishmentTable tbody tr");
      
      let anyMatch = false;
      
      rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        const match = text.includes(filter);
        row.style.display = match ? "" : "none";
        
        if (match && filter.trim() !== '') {
          anyMatch = true;
          
          const cells = row.querySelectorAll('td');
          cells.forEach(cell => {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = cell.innerHTML;
            
            const walkTextNodes = function(node, action) {
              if (node.nodeType === 3) {
                action(node);
              } else if (node.nodeType === 1) { 
                for (let i = 0; i < node.childNodes.length; i++) {
                  walkTextNodes(node.childNodes[i], action);
                }
              }
            };
            
            const removeHighlights = function(parentNode) {
              const highlights = parentNode.querySelectorAll('mark.highlight');
              highlights.forEach(h => {
                const textNode = document.createTextNode(h.textContent);
                h.parentNode.replaceChild(textNode, h);
              });
              
              parentNode.normalize();
            };
            
            removeHighlights(tempDiv);
            
            const nodesToProcess = [];
            walkTextNodes(tempDiv, node => {
              if (node.nodeValue.toLowerCase().includes(filter)) {
                nodesToProcess.push(node);
              }
            });
            
            nodesToProcess.forEach(textNode => {
              const content = textNode.nodeValue;
              const regex = new RegExp(`(${filter.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`, 'gi');
              
              const documentFragment = document.createDocumentFragment();
              let lastIndex = 0;
              let match;
              
              while ((match = regex.exec(content)) !== null) {
                if (match.index > lastIndex) {
                  documentFragment.appendChild(document.createTextNode(content.substring(lastIndex, match.index)));
                }
                
                const mark = document.createElement('mark');
                mark.className = 'highlight';
                mark.appendChild(document.createTextNode(match[0]));
                documentFragment.appendChild(mark);
                
                lastIndex = match.index + match[0].length;
              }
              
              if (lastIndex < content.length) {
                documentFragment.appendChild(document.createTextNode(content.substring(lastIndex)));
              }
              
              textNode.parentNode.replaceChild(documentFragment, textNode);
            });
            
            cell.innerHTML = tempDiv.innerHTML;
          });
        } else if (filter.trim() === '') {
          const highlights = row.querySelectorAll('mark.highlight');
          highlights.forEach(h => {
            const parent = h.parentNode;
            parent.replaceChild(document.createTextNode(h.textContent), h);
            parent.normalize();
          });
        }
      });
      
      let noResults = document.getElementById('no-results');
      if (!anyMatch && filter.trim() !== '') {
        if (!noResults) {
          noResults = document.createElement('div');
          noResults.id = 'no-results';
          noResults.style.textAlign = 'center';
          noResults.style.padding = '20px';
          noResults.style.color = '#e8e8e8';
          noResults.style.fontSize = '1.1em';
          noResults.style.fontFamily = 'Minecraft, sans-serif';
          noResults.style.textShadow = '2px 2px 0 rgba(0,0,0,0.8)';
          noResults.innerHTML = 'هیچ نتیجه‌ای یافت نشد <i class="fas fa-search"></i>';
          document.querySelector('.table-container').appendChild(noResults);
        }
      } else if (noResults) {
        noResults.remove();
      }
    });

    // FAQ Toggle Function (same as before)
    window.toggleFAQ = function(element) {
      const isActive = element.classList.contains('active');
      
      document.querySelectorAll('.faq-item.active').forEach(item => {
        if (item !== element) {
          item.classList.remove('active');
        }
      });
      
      element.classList.toggle('active', !isActive);
      
      const audio = new Audio('https://cdnjs.cloudflare.com/ajax/libs/placeholder-api/1.0.0/sfx/click.mp3');
      audio.volume = 0.3;
      audio.play().catch(e => {});
    }
    
    // Check Table Overflow Function (same as before)
    function checkTableOverflow() {
      const tableContainer = document.getElementById('tableContainer');
      const table = document.getElementById('punishmentTable');
      
      if (table.offsetWidth > tableContainer.offsetWidth) {
        tableContainer.classList.add('has-overflow');
      } else {
        tableContainer.classList.remove('has-overflow');
      }
    }
    
    window.addEventListener('load', checkTableOverflow);
    window.addEventListener('resize', checkTableOverflow);

    // Back to Top Button Logic
    const backToTopBtn = document.querySelector('.back-to-top');
    if (backToTopBtn) {
        backToTopBtn.addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) { // Show button after scrolling 300px
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        });
    }

    // Handle active navigation link
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav a');
    navLinks.forEach(link => {
        if (link.href === window.location.href) {
            link.classList.add('active');
        } else if (currentPath.includes(link.pathname) && link.pathname !== '/') {
             link.classList.add('active');
        }
    });

    // Hamburger menu toggle functionality
    const menuToggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.nav');

    if (menuToggle && nav) {
        menuToggle.addEventListener('click', () => {
            nav.classList.toggle('open');
            // Toggle between fa-bars and fa-times icons
            menuToggle.querySelector('i').classList.toggle('fa-bars');
            menuToggle.querySelector('i').classList.toggle('fa-times');
        });
    }
  });
  </script>
</body>
</html>
